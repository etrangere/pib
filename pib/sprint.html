<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <script>
        const prefix = window.location.pathname.replace(/\/{2,}/g, '/');
        const currentPath = window.location.pathname.replace(/\/{2,}/g, '/');
        const baseUrl = `http://localhost${currentPath}`;
        //alert(baseUrl); 
      </script>
    <title>Sprint</title>
</head>

<body>
<div>
    <label for="step5">Step 5:</label>
    <input type="checkbox" id="step5" name="step5" onchange="updateProgressBar()">
</div>
<h1>Sprint</h1>

    <p>Un sprint désigne une brève période limitée dans le temps dont une équipe Scrum a besoin pour effectuer une quantité de travail donnée. Les sprints sont au cœur même des méthodologies Scrum et Agile. Savoir les utiliser aidera votre équipe Agile à livrer de meilleurs logiciels en s'évitant bien des maux de tête.

        « Avec Scrum, un produit est développé dans une série d'itérations appelées sprints, lesquels décomposent les grands projets complexes en petites tâches. », explique Megan Cook, Group Product Manager pour Jira Software chez Atlassian.</p>

    </body>
</html>
<script>
    const textareaContainer = document.getElementById("textarea-container");
    const textareas = textareaContainer.getElementsByTagName("textarea");
    const checkboxes = textareaContainer.querySelectorAll("input[type='checkbox']");
    
    let formValues = {};
    
    let counter = 0; // initialize counter variable
    
    for (let i = 0; i < textareas.length + checkboxes.length; i++) {
      if (i < textareas.length) {
        const textarea = textareas[i];
        const id = prefix + (counter + 1);
        textarea.id = id;
        formValues[id] = textarea.value;
        textarea.addEventListener("input", (event) => {
          formValues[id] = event.target.value;
          localStorage.setItem("formValues", JSON.stringify(formValues));
        });
        counter++; // increment counter variable
      } else {
        const checkbox = checkboxes[i - textareas.length];
        const id = prefix + (counter + 1);
        checkbox.id = id;
        formValues[id] = checkbox.checked;
        checkbox.addEventListener("change", (event) => {
          formValues[id] = event.target.checked;
          localStorage.setItem("formValues", JSON.stringify(formValues));
        });
        counter++; // increment counter variable
      }
    }
    
    const savedFormValues = localStorage.getItem("formValues");
    
    if (savedFormValues) {
      formValues = JSON.parse(savedFormValues);
      for (const id in formValues) {
        if (formValues.hasOwnProperty(id)) {
          const element = document.getElementById(id);
          if (element) {
            if (element.tagName === "TEXTAREA") {
              element.value = formValues[id];
            } else if (element.tagName === "INPUT" && element.type === "checkbox") {
              element.checked = formValues[id];
            }
          } else {
            console.warn(`Element with id "${id}" not found on page`);
          }
        }
      }
    }
    
    const updateButton = document.getElementById("update-button-all");
    updateButton.addEventListener("click", () => {
      for (let i = 0; i < textareas.length + checkboxes.length; i++) {
        const id = prefix + (i + 1);
        const element = document.getElementById(id);
        if (element) {
          if (element.tagName === "TEXTAREA") {
            formValues[id] = element.value;
          } else if (element.tagName === "INPUT" && element.type === "checkbox") {
            formValues[id] = element.checked;
          }
        } else {
          console.warn(`Element with id "${id}" not found on page`);
        }
      }
      localStorage.setItem("formValues", JSON.stringify(formValues));
      alert("Values updated!");
    });
    
    </script>